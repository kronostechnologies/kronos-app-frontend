{"version":3,"file":"async-api-task.min.js","sources":["async-api-task.js"],"names":["AsyncTask","options","self","this","$","extend","defaults","pollDelay","Math","max","_ajaxTimeoutId","retryCount","_reset","_onWebSocketUpdate","statusUpdate","_update","_onAjaxUpdate","isPending","isProcessing","_pollServer","_onAjaxError","xhr","inError","_notifyError","status","responseText","_ajaxUpdate","ajax","queueUrl","contentType","error","success","prototype","url","update","cancel","websocket","lastStatus","percentage","current","steps","started","cancelled","result","getStatus","isCompleted","isCancelled","isInError","getPercentage","getCurrentStep","current_step","getStepCount","step_count","getResult","sendWebSocketCancel","_ajaxCancel","clearTimeout","type","isFunction","call","retry","start","getRetryCount","headers","Accept","response","data","location","setTimeout","_statusChanged","expire_on","_close","console","debug","newStatus","code","text"],"mappings":"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"}