{"version":3,"file":"async-api-task.min.js","sources":["async-api-task.js"],"names":["AsyncTask","options","self","this","$","extend","defaults","pollDelay","Math","max","_ajaxTimeoutId","retryCount","_reset","_onWebSocketUpdate","statusUpdate","_update","_onAjaxUpdate","isPending","isProcessing","_pollServer","_onAjaxError","xhr","inError","_notifyError","status","responseText","_ajaxUpdate","ajax","queueUrl","contentType","error","success","prototype","url","update","cancel","websocket","lastStatus","percentage","current","steps","started","cancelled","result","getStatus","isCompleted","isCancelled","isInError","getPercentage","getCurrentStep","getSteps","getResult","sendWebSocketCancel","_ajaxCancel","clearTimeout","type","isFunction","call","retry","start","getRetryCount","headers","Accept","response","data","location","setTimeout","_statusChanged","expires","_close","console","debug","newStatus","code","text"],"mappings":"AAAA,QAASA,WAAUC,GAClB,GAAIC,GAAOC,IAEXA,MAAKF,QAAUG,EAAEC,UAAWF,KAAKG,SAAUL,GAE3CE,KAAKF,QAAQM,UAAYC,KAAKC,IAAIN,KAAKF,QAAQM,UAAW,KAE1DJ,KAAKO,eAAiB,EAEtBP,KAAKQ,WAAa,EAClBR,KAAKS,SAELT,KAAKU,mBAAqB,SAASC,GAClCZ,EAAKa,QAAQD,IAGdX,KAAKa,cAAgB,SAASF,GAC7BZ,EAAKQ,eAAiB,EACtBR,EAAKa,QAAQD,IACVZ,EAAKe,aAAef,EAAKgB,iBAC3BhB,EAAKiB,eAGPhB,KAAKiB,aAAe,SAASC,GAC5BnB,EAAKQ,eAAiB,EACtBR,EAAKoB,SAAU,EACfpB,EAAKqB,aAAaF,EAAIG,OAAQH,EAAII,eAEnCtB,KAAKuB,YAAc,WAClBtB,EAAEuB,KAAKzB,EAAK0B,UACXC,YAAc,mBACdC,MAAQ5B,EAAKkB,aACbW,QAAU7B,EAAKc,iBAKlBhB,UAAUgC,WACT1B,UACC2B,IAAM,GACNC,QAAS,EACTJ,OAAQ,EACRC,SAAU,EACVI,QAAS,EACT5B,UAAY,IACZ6B,WAAY,GAGbxB,OAAS,WACRT,KAAKkC,YACJb,OAAS,UACTc,WAAa,EACbC,QAAU,EACVC,MAAQ,GAGTrC,KAAKsC,SAAU,EACftC,KAAKmB,SAAU,EACfnB,KAAKuC,WAAY,EACjBvC,KAAKyB,UAAW,EAChBzB,KAAKwC,QAAS,GAGfC,UAAY,WACX,MAAOzC,MAAKkC,WAAWb,QAGxBqB,YAAc,WACb,MAAiC,aAA1B1C,KAAKkC,WAAWb,QAGxBP,UAAY,WACX,MAAiC,WAA1Bd,KAAKkC,WAAWb,QAGxBN,aAAe,WACd,MAAiC,cAA1Bf,KAAKkC,WAAWb,QAGxBsB,YAAc,WACb,MAAO3C,MAAKuC,WAGbK,UAAY,WACX,MAAO5C,MAAKmB,SAGb0B,cAAgB,WACf,MAAO7C,MAAKkC,WAAWC,YAGxBW,eAAiB,WAChB,MAAO9C,MAAKkC,WAAWE,SAGxBW,SAAW,WACV,MAAO/C,MAAKkC,WAAWG,OAGxBW,UAAY,WACX,MAAOhD,MAAKwC,QAGbR,OAAS,WACR,MAAGhC,MAAKc,aAAed,KAAKe,gBACxBf,KAAKF,QAAQmC,UACfjC,KAAKiD,sBAGLjD,KAAKkD,eAGC,IAGA,GAITA,YAAc,WACbC,aAAanD,KAAKO,gBAClBP,KAAKO,eAAiB,EACtBP,KAAKuC,WAAY,CAEjB,IAAIxC,GAAOC,IACXC,GAAEuB,KAAKxB,KAAKyB,UACX2B,KAAO,SACPzB,MAAQ3B,KAAKiB,aACbW,QAAU,WACN3B,EAAEoD,WAAWtD,EAAKD,QAAQkC,SAC5BjC,EAAKD,QAAQkC,OAAOsB,QAAStD,UAMjCuD,MAAQ,WACP,MAAGvD,MAAK0C,eAAiB1C,KAAK4C,aAC7B5C,KAAKQ,aACLR,KAAKS,SACLT,KAAKwD,SAEE,IAGA,GAITC,cAAgB,WACf,MAAOzD,MAAKQ,YAGbgD,MAAQ,WACP,GAAIxD,KAAKsC,QA0BR,OAAO,CAzBPtC,MAAKsC,SAAU,CAEf,IAAIvC,GAAOC,IAoBX,OAnBAC,GAAEuB,KAAKxB,KAAKF,QAAQgC,KACnBH,MAAQ3B,KAAKiB,aACbyC,SACCC,OAAW,QAEZ/B,QAAU,SAASgC,EAAUvC,EAAQH,GACnB,KAAdA,EAAIG,QAGNtB,EAAK0B,SAAWmC,EAASC,KAAKC,SAE9B/D,EAAKiB,eAGLjB,EAAKqB,aAAaF,EAAIG,OAAQH,EAAII,kBAK9B,GAOTN,YAAc,WACbhB,KAAKO,eAAiBwD,WAAW/D,KAAKuB,YAAavB,KAAKF,QAAQM,YAGjEQ,QAAU,SAASD,GAClB,IAAGX,KAAKc,aAAed,KAAKe,iBACxBf,KAAKgE,eAAerD,GAGtB,OAFAX,KAAKkC,WAAavB,EAEXA,EAAaU,QACnB,IAAK,UACL,IAAK,aACDpB,EAAEoD,WAAWrD,KAAKF,QAAQiC,SAC5B/B,KAAKF,QAAQiC,OAAOuB,QAAStD,KAAMW,EAAaU,OAAQV,EAAakD,KAAK1B,WAAYxB,EAAakD,KAAKzB,QAASzB,EAAakD,KAAKxB,MAEpI,MACD,KAAK,YACDpC,EAAEoD,WAAWrD,KAAKF,QAAQ8B,UAC5B5B,KAAKF,QAAQ8B,QAAQ0B,QAAStD,KAAMW,EAAakD,KAAKC,SAAUnD,EAAakD,KAAKI,SAEnFjE,KAAKkE,QACL,MACD,KAAK,YACJlE,KAAKuC,WAAY,EACdtC,EAAEoD,WAAWrD,KAAKF,QAAQkC,SAC5BhC,KAAKF,QAAQkC,OAAOsB,QAAStD,MAE9BA,KAAKkE,QACL,MACD,KAAK,QACJlE,KAAKmB,SAAU,EACfnB,KAAKoB,aAAa,IAAK,GACvB,MACD,SACC+C,QAAQC,MAAM,yBAAyBzD,aAAaU,UAOzD2C,eAAiB,SAASK,GACzB,MAAQrE,MAAKkC,WAAWb,QAAUgD,EAAUhD,QAAUrB,KAAKkC,WAAW2B,KAAK1B,YAAckC,EAAUR,KAAK1B,YAAcnC,KAAKkC,WAAW2B,KAAKzB,SAAWiC,EAAUR,KAAKzB,SAGtK8B,OAAS,WACLlE,KAAKiC,WAKTb,aAAe,SAASkD,EAAMC,GAC1BtE,EAAEoD,WAAWrD,KAAKF,QAAQ6B,QAC5B3B,KAAKF,QAAQ6B,MAAM2B,QAAStD,KAAMsE,EAAMC"}