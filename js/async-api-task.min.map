{"version":3,"file":"async-api-task.min.js","sources":["async-api-task.js"],"names":["AsyncTask","options","self","this","$","extend","defaults","pollDelay","Math","max","_ajaxTimeoutId","retryCount","_reset","_onWebSocketUpdate","statusUpdate","_update","_onAjaxUpdate","isPending","isProcessing","_pollServer","_onAjaxError","xhr","inError","_notifyError","status","responseText","_ajaxUpdate","ajax","queueUrl","contentType","error","success","prototype","url","update","websocket","lastStatus","percentage","current","steps","started","cancelled","result","getStatus","isCompleted","isCancelled","isInError","getPercentage","getCurrentStep","getSteps","getResult","cancel","sendWebSocketCancel","_ajaxCancel","clearTimeout","type","console","debug","data","retry","start","getRetryCount","headers","Accept","response","location","setTimeout","_statusChanged","isFunction","call","expires","_close","newStatus","code","text"],"mappings":"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"}