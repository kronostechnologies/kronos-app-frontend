function sendAjax(a,b,c){if(window.XDomainRequest){var d=new XDomainRequest;d.onload=function(){var e="Content-Length: "+d.responseText.length+"\r\nContent-Type: "+d.contentType;b.postMessage(JSON.stringify({uid:a.uid,code:"200",message:"success",response:d.responseText,allResponseHeaders:e,contentType:d.contentType}),c)},d.ontimeout=function(){b.postMessage(JSON.stringify({uid:a.uid,code:"500",message:"timeout",response:"",allResponseHeaders:null,contentType:null}),c)},d.timeout=a.timeout,d.onprogress=function(){},d.onerror=function(){b.postMessage(JSON.stringify({uid:a.uid,code:"500",message:"error",response:d.responseText,allResponseHeaders:null,contentType:null}),c)},d.open(a.type,a.url),d.send(a.data),ajaxReference[a.uid]=d}else{if(!window.XMLHttpRequest)throw"No way to find ajax request.";var e=new XMLHttpRequest;e.onload=function(d){4===e.readyState&&b.postMessage(JSON.stringify({uid:a.uid,code:e.status,message:e.statusText,response:e.responseText,allResponseHeaders:e.getAllResponseHeaders()}),c)},e.ontimeout=function(d){b.postMessage(JSON.stringify({uid:a.uid,code:"500",message:"timeout",response:"",allResponseHeaders:null,contentType:null}),c)},e.timeout=a.timeout,e.onerror=function(d){b.postMessage(JSON.stringify({uid:a.uid,code:"500",message:"error",response:e.statusText,allResponseHeaders:null,contentType:null}),c)},e.open(a.type,a.url),e.send(a.data),ajaxReference[a.uid]=e}}function abortAjax(a){ajaxReference[a.uid]&&(ajaxReference[a.uid].abort(),delete ajaxReference[a.uid])}ajaxReference={},window.addEventListener("message",function(a){var b=JSON.parse(a.data);outerPageOrigin=a.origin,"send"===b.action?sendAjax(b,a.source,a.origin):"abort"===b.action&&abortAjax(b)},!1);
//# sourceMappingURL=proxy-server.min.map