{"version":3,"sources":["async-api-task.js"],"names":["AsyncTask","options","self","this","$","extend","defaults","pollDelay","Math","max","_ajaxTimeoutId","retryCount","_reset","_onWebSocketUpdate","statusUpdate","_update","_onAjaxUpdate","httpStatus","xhr","isPending","isProcessing","_pollServer","_onAjaxError","inError","_notifyError","status","responseText","_ajaxUpdate","ajax","queueUrl","contentType","error","success","prototype","url","postData","update","cancel","websocket","lastStatus","percentage","current","steps","started","cancelled","result","websocket_channel","getStatus","isCompleted","isCancelled","isInError","getPercentage","getCurrentStep","current_step","getStepCount","step_count","getResult","sendWebSocketCancel","_ajaxCancel","clearTimeout","type","data","isFunction","call","retry","start","getRetryCount","headers","Accept","getToken","response","location","on","setTimeout","_statusChanged","expire_on","_close","console","debug","newStatus","off","code","text"],"mappings":"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","file":"async-api-task.min.js"}