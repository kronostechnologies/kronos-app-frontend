{"version":3,"file":"async-api-task.min.js","sources":["async-api-task.js"],"names":["AsyncTask","options","self","this","$","extend","defaults","pollDelay","Math","max","_ajaxTimeoutId","retryCount","_reset","_onWebSocketUpdate","statusUpdate","_update","_onAjaxUpdate","isPending","isProcessing","_pollServer","_onAjaxError","xhr","inError","_notifyError","status","responseText","_ajaxUpdate","ajax","queueUrl","contentType","error","success","prototype","url","postData","update","cancel","websocket","lastStatus","percentage","current","steps","started","cancelled","result","websocket_channel","getStatus","isCompleted","isCancelled","isInError","getPercentage","getCurrentStep","current_step","getStepCount","step_count","getResult","sendWebSocketCancel","_ajaxCancel","clearTimeout","type","isFunction","call","retry","start","getRetryCount","headers","Accept","getToken","data","response","location","on","setTimeout","_statusChanged","expire_on","_close","console","debug","newStatus","off","code","text"],"mappings":"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"}